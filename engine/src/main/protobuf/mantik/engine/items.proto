syntax = "proto3";
package ai.mantik.engine.protos;

import "mantik/engine/ds.proto";

/** Represents a Mantik Item. */
message MantikItem {
    ObjectKind kind = 1;
    oneof item {
        DataSet dataset = 2;
        Algorithm algorithm = 3;
        TrainableAlgorithm trainable_algorithm = 4;
        Pipeline pipeline = 5;
    }
}

/* A Dataset item. */
message DataSet {
    DataType type = 1;
    string stack = 2;
}

/* An algorithm Item. */
message Algorithm {
    string stack = 1;
    DataType input_type = 2;
    DataType output_type = 3;
}

/* A Trainable Algorithm Item. */
message TrainableAlgorithm {
    string stack = 1;
    // Data type for training
    DataType training_type = 2;
    // Data type for stats generated by training
    DataType stat_type = 3;
    // Data type when being trained
    DataType input_type = 4;
    DataType output_type = 5;
}

/* A Pipeline. */
message Pipeline {
    // Input Data Type
    DataType inputType = 1;
    // Output Data Type
    DataType outputType = 2;
}

enum ObjectKind {
    KIND_UNSPECIFIED = 0;
    KIND_DATASET = 1;
    KIND_ALGORITHM = 2;
    KIND_TRAINABLE_ALGORITHM = 3;
    KIND_PIPELINE = 4;
}
